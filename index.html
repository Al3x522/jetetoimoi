<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Une parenthèse à deux</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500&family=Inter:wght@300;400&display=swap" rel="stylesheet">

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    :root {
      --bg: #f7f6f4;
      --text: #1e1e1e;
      --soft: #6f6f6f;
      --card: #ffffff;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
    }

    .container {
      max-width: 480px;
      margin: auto;
      padding: 32px 24px 64px;
    }

    h1 {
      font-size: 32px;
      font-weight: 500;
      margin-bottom: 12px;
    }

    .subtitle {
      color: var(--soft);
      margin-bottom: 32px;
    }

    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.04);
    }

    .day {
      font-size: 14px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--soft);
      margin-bottom: 8px;
    }

    .map {
      height: 220px;
      border-radius: 16px;
      margin-top: 16px;
    }

    .nav {
      display: flex;
      justify-content: space-between;
      margin-top: 24px;
    }

    button {
      background: none;
      border: none;
      font-size: 18px;
      color: var(--soft);
    }

    .page { display: none; }
    .page.active { display: block; }

    /* Intro typing style */
    #typed-text {
      font-family: 'Playfair Display', serif;
      font-size: 1.1em;
      line-height: 1.7;
    }
  </style>
</head>

<body>
<div class="container">

  <!-- PAGE 0 : INTRO -->
  <div class="page active">
    <h1>Une parenthèse à deux</h1>
    <p class="subtitle">Dinard · Saint-Malo · 26 → 28 décembre</p>

    <p id="typed-text"></p>

    <div class="nav" id="intro-nav" style="display:none;">
      <span></span>
      <button onclick="nextPage()">→</button>
    </div>
  </div>

  <!-- PAGE 1 : VENDREDI -->
  <div class="page">
    <div class="card">
      <div class="day">Vendredi 26 — Arrivée</div>

      <p>Dinard, fin de matinée.<br>On respire.</p>

      <p>
        Un déjeuner au hasard.<br>
        Parce que parfois, ne pas choisir, c’est déjà se détendre.
      </p>

      <p>
        Une balade dans la ville, un café, un endroit qu’on aimera sûrement
        (Merci Monsieur…).
      </p>

      <p>
        Le soir,<br>
        la terre,<br>
        un restaurant.
      </p>

      <div id="map-vendredi" class="map"></div>
    </div>

    <div class="nav">
      <button onclick="prevPage()">←</button>
      <button onclick="nextPage()">→</button>
    </div>
  </div>

  <!-- PAGE 2 : SAMEDI -->
  <div class="page">
    <div class="card">
      <div class="day">Samedi 27 — Lâcher prise</div>

      <p>
        Une matinée tranquille.<br>
        Du repos, du calme… et un moment de soin à deux.
      </p>

      <p>Déjeuner sans plan figé.</p>

      <p>
        Puis le bord de mer,<br>
        marcher, regarder,<br>
        laisser l’air faire son travail.
      </p>

      <p>
        En fin de journée,<br>
        le feu,<br>
        un verre au Darling.
      </p>

      <div id="map-samedi" class="map"></div>
    </div>

    <div class="nav">
      <button onclick="prevPage()">←</button>
      <button onclick="nextPage()">→</button>
    </div>
  </div>

  <!-- PAGE 3 : DIMANCHE -->
  <div class="page">
    <div class="card">
      <div class="day">Dimanche 28 — S’évader</div>

      <p>
        Un bateau.<br>
        L’eau.<br>
        Cap sur Saint-Malo.
      </p>

      <p>Un brunch chez Cavoua.</p>

      <p>
        Puis flâner dans les rues,<br>
        sans montre,<br>
        sans urgence.
      </p>

      <p>Retour en douceur.</p>

      <div id="map-dimanche" class="map"></div>
    </div>

    <div class="nav">
      <button onclick="prevPage()">←</button>
      <button onclick="nextPage()">→</button>
    </div>
  </div>

  <!-- PAGE 4 : MESSAGE -->
  <div class="page">
    <div class="card">
      <div class="day">Je, Te, Toi, Moi</div>

      <p>
        Axelle,<br><br>
        Je t’écris pour être vrai.<br>
        Pour poser des mots calmes, sincères.<br><br>
        Je crois en nous, pas comme avant,<br>
        mais comme nous pouvons devenir.<br><br>
        JE T’AIME<br><br>
        Alexandre
      </p>
    </div>

    <div class="nav">
      <button onclick="prevPage()">←</button>
      <span></span>
    </div>
  </div>

</div>

<script>
  let currentPage = 0;
  const pages = document.querySelectorAll('.page');
  const maps = {};

  /* INTRO TYPING */
  const introLines = [
    "Trois jours.",
    "Pas de logistique.",
    "Pas de décisions à prendre.",
    "",
    "Juste se laisser porter."
  ];

  let introIndex = 0;

  function startIntroTyping() {
    const target = document.getElementById("typed-text");
    const nav = document.getElementById("intro-nav");
    target.innerHTML = "";
    nav.style.display = "none";
    introIndex = 0;

    function typeLine() {
      if (introIndex >= introLines.length) {
        nav.style.display = "flex";
        return;
      }
      target.innerHTML += introLines[introIndex] + "<br>";
      introIndex++;
      setTimeout(typeLine, 850);
    }

    setTimeout(typeLine, 500);
  }

  function showPage(index) {
    pages.forEach(p => p.classList.remove('active'));
    pages[index].classList.add('active');
    currentPage = index;

    if (index === 0) startIntroTyping();
    if (index === 1 && !maps.vendredi) initVendredi();
    if (index === 2 && !maps.samedi) initSamedi();
    if (index === 3 && !maps.dimanche) initDimanche();
  }

  function nextPage() {
    if (currentPage < pages.length - 1) showPage(currentPage + 1);
  }

  function prevPage() {
    if (currentPage > 0) showPage(currentPage - 1);
  }

  function createMap(id, center, markers) {
    const map = L.map(id).setView(center, 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
    markers.forEach(m => L.marker(m.coords).addTo(map).bindPopup(m.label));
    setTimeout(() => map.invalidateSize(), 200);
    return map;
  }

  function initVendredi() {
    maps.vendredi = createMap("map-vendredi", [48.6329, -2.0626], [
      { coords: [48.6305823, -2.0658285], label: "Votre point de chute" },
      { coords: [48.6329827, -2.0538291], label: "Balade & café" },
      { coords: [48.635074, -2.055029], label: "Restaurant du soir" }
    ]);
  }

  function initSamedi() {
    maps.samedi = createMap("map-samedi", [48.633, -2.061], [
      { coords: [48.6276376, -2.0737552], label: "Lieu de soin" },
      { coords: [48.638431, -2.069337], label: "Bord de mer" },
      { coords: [48.6350146, -2.0643641], label: "Le Darling" }
    ]);
  }

  function initDimanche() {
    maps.dimanche = createMap("map-dimanche", [48.649, -2.025], [
      { coords: [48.636122, -2.0507523], label: "Départ bateau" },
      { coords: [48.649533, -2.0265944], label: "Brunch Cavoua" },
      { coords: [48.6493819, -2.0252011], label: "Intra-muros" }
    ]);
  }
startIntroTyping();

</script>

</body>
</html>

